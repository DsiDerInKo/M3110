20230330
Tags: #lecture 

# Main:

FPU (для обработки чисел с плавающей точкой)
![[Pasted image 20230330115807.png]]

Всего R… - 8.

TagWord(TW):

00 - V (норма)

01 - 0

10 - NaN

11 - ?

## CPU

1 байт - 2^8

2 байта - 2^16

4 байта - 2^32

## FPU

4 байта → +-3.37*10^38 (1+8+23 = 32 ⇒ 1 под знак, 8 под порядок, 23 под мантису) (6-7 знач. знака)

8 байт → +-1.67*10^308 (1+11+52) (14 знаков)

10 байт → +-1.1*10^4932 (много)

## SW (Регистр состояния)

15 бит (B) - процессор занят

14 бит (C3) - ZR (zero flag, см. лекция 2)

13-11 биты (TOP) - стек

10 бит (C2) - PF (бит четности)

9 бит (C1) - …

8 бит (C0) - бит переполнения

7 бит (ES) - суммарный бит ошибки

6 бит (SF) - бит ошибки стека

5 бит (PE) - неточный результат

4 бит (UE) - анти-переполнение

3 бит (OE) - переполнение

2 бит (ZE) - деление на 0

1 бит (DE) - денормализация операнда

0 бит (IE) - неправильная команда

## CW (Регистр управления)

15-13 бит -//-

12 бит (IC) - рудимент (отвечал за бесконечность)

11-10 биты (RC) округление

9-8 биты (PC) для мантисы

7 бит (IEM) - рудимент

6 бит -//-

5-0 аналогично SW, но маска

## УК (Указатель команд)

блок 16 бит - селектор (номер в списке описаний, куда нужно обратиться, чтобы узнать, с чем работаем)

блок 32 бит - степ

Например, 23 384. В памяти дойти до 23 строки, перейти в сегмент, ссылка на который лежит в 23 ячейке, и там сместиться на 384 бита ⇒ получили команду

## GDTR (global descripter table register)

Состоит из блоков по 32 бита (адрес) и 16 бита (предел)

## IDTR (interupt descripter table register)

Состоит из блоков по 32 бита (адрес) и 16 бита (предел)

## LDTR (local descripter table register)

Состоит из селектора (16 бит), указателя на сегмент, где сейчас работаем

## TR (table register)

Селектор (10 бит)

## Системные регистры

-   CR0
    -   PE - работа в защищённом режиме
    -   PG -
    -   CD - разрешение на использование кеша
    -   NV - …
    -   MP,PV,TS,NE - для работы с плав. точкой
-   CR1 -//-
-   CR2 (32 бита) - линейный адрес команды, которая вызвала ошибку
-   CR3 (20 (адреса каталога страницы) + 12 (контроль работы со страницами) бит)
    -   CD
    -   PNW
-   CR4
-   DR0…DR3 - адреса точек остановки
-   DR4,DR4 -//-
-   DR6 - состояние процессора в момент остановки
-   DR7 - управление отладкой
-   TR0…N (N зависит от модели процессора) - регистры тестирования

# Other:

“Вот крутой яблочный компьютер. А вот нормальный, многозадачный”

***Links:*** [[00 Lections]]